/*!
 * form-builder - Form builder library v0.0.1
 * Copyright (c) 2018-2021 TSV  - http://github.com/tsv2013/form-builder
 * License: MIT (http://www.opensource.org/licenses/mit-license.php)
 */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("knockout")):"function"==typeof define&&define.amd?define("FormBuilder",["knockout"],t):"object"==typeof exports?exports.FormBuilder=t(require("knockout")):e.FormBuilder=t(e.ko)}(window,(function(e){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=11)}([function(t,r){t.exports=e},function(e,t,r){"use strict";var n=this&&this.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;var n=Array(e),o=0;for(t=0;t<r;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)n[o]=i[a];return n};Object.defineProperty(t,"__esModule",{value:!0}),t.UimlPartsRepository=t.UimlPart=t.createProperty=void 0;var o=r(0),i=r(5);function a(e,t,r){var n=o.observable(r);Object.defineProperty(e,t.name,{get:function(){return n()},set:function(e){return n(e)}})}r(13),t.createProperty=a;var s=function(){function e(t){for(var r=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];this._partclass=t,this.id=e.counter++,this._part=Object.assign({},n[0]),this._objectDescription=i.getObjectDescription(t),this._objectDescription&&this._objectDescription.properties.forEach((function(e){var t=e.type||"string";i.isArrayType(t)||a(r,e,r._part[e.name])})),a(this,{name:"data"},this._part.data),a(this,{name:"parts",type:"part[]"},(this._part.parts||[]).map((function(e){return l.create(e.partclass,e)})))}return e.prototype.render=function(t){e.render?e.render(this,t):(t.className+=" "+this.cssClasses,this.isContainer||(t.innerHTML=this.partclass+this.id))},Object.defineProperty(e.prototype,"hasInnerLayout",{get:function(){return-1!==e.layoutHolderParts.indexOf(this.partclass)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isContainer",{get:function(){return-1!==e.containerParts.indexOf(this.partclass)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"partclass",{get:function(){return e.layoutConvertableParts[this._partclass]||this._partclass},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"part",{get:function(){var e=this,t=Object.assign({},this._part);return t.data=this.data,this._objectDescription&&this._objectDescription.properties.forEach((function(r){t[r.name]=e[r.name]})),t},enumerable:!1,configurable:!0}),e.fromJSON=function(e){return l.create(e.partclass,e)},e.prototype.toJSON=function(){return this.part},e.prototype.create=function(e){return l.create(e,{})},e.containerParts=["layout","layoutRow","layoutColumn"],e.layoutHolderParts=["panel"],e.layoutConvertableParts={view:"layout",form:"layout",koWith:"layoutColumn",container:"layoutColumn",accordion:"layoutColumn",div:"container",formGroup:"layoutItem"},e.render=void 0,e.counter=1,e}();t.UimlPart=s;var l=function(){function e(){}return Object.defineProperty(e,"instance",{get:function(){return e._instance},enumerable:!1,configurable:!0}),e.register=function(t,r){e.parts[t]=r},e.create=function(t){for(var r,o=[],i=1;i<arguments.length;i++)o[i-1]=arguments[i];return e.parts[t]?new((r=e.parts[t]).bind.apply(r,n([void 0],o))):new(s.bind.apply(s,n([void 0,t],o)))},e.parts={},e._instance=new e,e}();t.UimlPartsRepository=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormElement=t.PlaceHolder=t.fillDraggedOverInDirection=t.hasParentEdgeInDirection=void 0;var n=r(0),o=r(1),i=r(4);function a(e,t){var r=e&&e.parent;if(!r||!r.elements)return!1;var o=n.unwrap(r.elements)||[],i=o.indexOf(e);return"layoutRow"===r.content.partclass?"top"===t||"bottom"===t||(0===i&&"left"===t||i===o.length-1&&"right"===t):"left"===t||"right"===t||(0===i&&"top"===t||i===o.length-1&&"bottom"===t)}t.hasParentEdgeInDirection=a,t.fillDraggedOverInDirection=function e(t,r,n){void 0===n&&(n=[]),!t||t.content&&"layout"===t.content.partclass||(n.push(t),a(t,r)&&e(t.parent,r,n))};var s=function(){function e(e){this.parent=e,this.isContainer=!1,this.hasInnerLayout=!1}return Object.defineProperty(e.prototype,"isDesignMode",{get:function(){return this.parent.isDesignMode},enumerable:!1,configurable:!0}),e.prototype.render=function(e){e.innerHTML="<span data-bind='if: formElement.isDesignMode'>Drop items here</span>"},e.prototype.addElement=function(e,t){void 0===t&&(t="bottom"),this.parent.addElement(e,t)},e.prototype.remove=function(){},e.prototype.dispose=function(){},e}();t.PlaceHolder=s;var l=function(){function e(e,t){var r=this;this.content=e,this.parent=t,this._context=void 0,this._isDesignMode=n.observable(!1),this._dragPosition=n.observable(""),this.elements=n.observableArray();var o=e;this._elementsSubscription=n.computed((function(){var e=(o.parts||[]).map((function(e){return i.UimlLayoutSerializer.createElement(e,r)})),t=r.elements.peek();r.elements(e),t.forEach((function(e){return e.dispose()}))}))}return Object.defineProperty(e.prototype,"isContainer",{get:function(){return this.content.isContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasInnerLayout",{get:function(){return this.content.hasInnerLayout},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dragPosition",{get:function(){return this._dragPosition()},set:function(e){this._dragPosition(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesignMode",{get:function(){return this.parent?this.parent.isDesignMode:this._isDesignMode()},set:function(e){this._isDesignMode(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"context",{get:function(){if(!this._context&&this.parent&&(this._context=this.parent.context,this.isContainer)){var e=this.content.data;e&&(this._context=this.parent.context[e])}return this._context},set:function(e){this._context=e},enumerable:!1,configurable:!0}),e.prototype.render=function(e){this.content.hasInnerLayout||this.isContainer||0===this.elements().length?this.content.render(e):this.elements().forEach((function(t){return t.content.render(e)}))},e.prototype.addElement=function(e,t,r){if(void 0===t&&(t="bottom"),this.isContainer&&this!==r)if("layout"===this.content.partclass){var n="left"===t||"right"===t,a=i.UimlLayoutSerializer.createElement(o.UimlPart.fromJSON({partclass:n?"layoutRow":"layoutColumn",cssClasses:n?"row":"column"}),this);this.elements().forEach((function(e){return e.parent=a})),a.elements(this.elements()),this.elements([a]),a.addElement(e,t)}else if("layoutRow"===this.content.partclass)if(!r||"top"!==t&&"bottom"!==t){var s=i.UimlLayoutSerializer.createElement(e,this);this.elements.splice(this.elements().indexOf(r)+("right"===t?1:0),0,s)}else{var l=i.UimlLayoutSerializer.createElement(o.UimlPart.fromJSON({partclass:"layoutColumn",cssClasses:"column"}),this);this.elements.splice(this.elements().indexOf(r),1,l),r.parent=l,l.elements.push(r),l.addElement(e,t,r)}else if(!r||"left"!==t&&"right"!==t){s=i.UimlLayoutSerializer.createElement(e,this);this.elements.splice(this.elements().indexOf(r)+("bottom"===t?1:0),0,s)}else{var c=i.UimlLayoutSerializer.createElement(o.UimlPart.fromJSON({partclass:"layoutRow",cssClasses:"row"}),this);this.elements.splice(this.elements().indexOf(r),1,c),r.parent=c,c.elements.push(r),c.addElement(e,t,r)}else this.parent.addElement(e,t,this)},e.prototype.remove=function(){this.parent&&(this.parent.elements.remove(this),"layoutRow"!==this.parent.content.partclass&&"layoutColumn"!==this.parent.content.partclass||0!==this.parent.elements().length||this.parent.remove())},e.prototype.dispose=function(){this._elementsSubscription.dispose()},e}();t.FormElement=l},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UimlLayoutSerializer=void 0;var n=r(2),o=r(1),i=function(){function e(){}return e.createRoot=function(){var t=o.UimlPartsRepository.create(e.layoutPartClass,{cssClasses:"root"});return new n.FormElement(t,null)},e.createElement=function(t,r){if(t.hasInnerLayout){var i={partclass:e.layoutPartClass,cssClasses:"group",parts:[]},a=o.UimlPart.fromJSON(i);a.parts=t.part.parts||[],t.parts=[a]}return new n.FormElement(t,r)},e.createElements=function(t,r,n){void 0===r&&(r=[]),r.forEach((function(r){t.push(e.createElement(o.UimlPart.fromJSON(r),n))}))},e.serialize=function(t){var r=t.content,n={partclass:r.partclass};return Object.keys(r.part).forEach((function(e){return n[e]=r.part[e]})),t.elements().length&&(n.parts=t.elements().map((function(t){return e.serialize(t)}))),Array.isArray(n.parts)&&1===n.parts.length&&n.parts[0].partclass===e.layoutPartClass&&(n.parts=n.parts[0].parts),n},e.layoutPartClass="layout",e}();t.UimlLayoutSerializer=i},function(e,t,r){"use strict";function n(e){return!!e&&e.length>2&&"["===e[e.length-2]&&"]"===e[e.length-1]}Object.defineProperty(t,"__esModule",{value:!0}),t.getArrayElementType=t.isArrayType=t.isSimpleType=t.getObjectDescription=t.domain=void 0,t.domain={},t.domain.part={name:"part",properties:[{name:"partclass"},{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.panel={name:"panel",properties:[{name:"text"},{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.layoutItem={name:"layoutItem",properties:[{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.container={name:"container",properties:[{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.label={name:"label",properties:[{name:"text"},{name:"cssClasses"}]},t.domain.input={name:"input",properties:[{name:"cssClasses"}]},t.domain.layout={name:"layout",properties:[{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.layoutRow={name:"layoutRow",properties:[{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.domain.layoutColumn={name:"input",properties:[{name:"parts",type:"part[]"},{name:"cssClasses"}]},t.getObjectDescription=function(e){return t.domain[e]},t.isSimpleType=function(e){return!!e&&!t.domain[e]&&-1==e.indexOf("[]")},t.isArrayType=n,t.getArrayElementType=function(e){if(n(e))return e.substring(0,e.length-2)}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.modelToJSON=t.modelFromLayout=t.traversePart=t.modelFromJSON=t.createDefaultLayout=t.createColumnLayout=t.createPropertyEditor=t.makeTitle=t.capitalize=void 0;var n=r(1);function o(e){return e.charAt(0).toUpperCase()+e.slice(1)}function i(e){return e.split("_").map((function(e){return o(e)})).join(" ")}function a(e){return{partclass:"layoutItem",cssClasses:"item test-item test-group",parts:[{partclass:"label",cssClasses:"test-label",text:i(e)},{partclass:"input",cssClasses:"test-input",data:e}]}}function s(e,t){return void 0===t&&(t=!1),{partclass:"layoutColumn",data:void 0,cssClasses:"column",parts:(Object.keys(e)||[]).filter((function(r){return t||"object"!=typeof e[r]})).map((function(e){return a(e)}))}}function l(e,t){t(e),(e.parts||[]).forEach((function(e){l(e,t)}))}t.capitalize=o,t.makeTitle=i,t.createPropertyEditor=a,t.createColumnLayout=s,t.createDefaultLayout=function(e){var t={partclass:"layoutRow",data:void 0,cssClasses:"row test-form",parts:[s(e)]};return(Object.keys(e)||[]).filter((function(t){return"object"==typeof e[t]})).forEach((function(r){var n=s(e[r]);n.data=r,t.parts.push(n)})),t},t.modelFromJSON=function e(t){var r={},n=Object.getOwnPropertyNames(t);return(n=n.concat(Object.keys(t))).forEach((function(n){"object"!=typeof t[n]?r[n]=ko.observable(t[n]):r[n]=e(t[n])})),r},t.traversePart=l,t.modelFromLayout=function(e){var t={};return l(e,(function(e){void 0!==e.data&&n.createProperty(t,{name:e.data})})),t},t.modelToJSON=function(e){return ko.toJSON(e,null,2)}},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LayoutItem=void 0;var n=r(0),o=r(2),i=r(4),a=r(1);r(16);var s=r(17);var l=function(){function e(e){var t=this;this.formElement=e,this._isSelected=n.observable(!1),this._hoverItems=[],this._currentHoverIndex=0,this._hoverIndicatorTimer=void 0,this.afterPartTemplateRender=function(e){if(!t.isContainer){var r=e[1],o=n.contextFor(r);n.cleanNode(r),t.formElement.render(r),n.applyBindings(o,r)}},this.isSelected=n.computed((function(){return t.formElement.isDesignMode&&t._isSelected()}))}return e.prototype.clearHoverIndicator=function(){e.draggedOverElement=null,e.draggedOverPosition=null,this._hoverIndicatorTimer&&(clearTimeout(this._hoverIndicatorTimer),this._hoverIndicatorTimer=void 0),Array.isArray(this._hoverItems)&&this._hoverItems.forEach((function(e){return e.dragPosition=""}))},Object.defineProperty(e.prototype,"elements",{get:function(){return this.formElement.elements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isContainer",{get:function(){return this.formElement.isContainer},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"css",{get:function(){var e=this.formElement.content instanceof a.UimlPart?this.formElement.content.cssClasses:"";return this.formElement.isDesignMode&&(this.isSelected()&&(e+=" bf-item--selected"),this.formElement.dragPosition&&(e+=" bf-item--drag-over-"+this.formElement.dragPosition)),e},enumerable:!1,configurable:!0}),e.prototype.dragstart=function(t,r){if(this.formElement.isDesignMode)return(r.originalEvent||r).dataTransfer.setData("bf-item-json",JSON.stringify(i.UimlLayoutSerializer.serialize(t.formElement))),e.draggedElement=t.formElement,r.cancelBubble=!0,!0},e.prototype.dragenter=function(e,t){t.preventDefault(),t.cancelBubble=!0},e.prototype.dragover=function(t,r){if(t.formElement.isDesignMode){var i=r.originalEvent||r,a=(n.dataFor(i.target),l=i.offsetX,c=i.offsetY,u=r.target.clientWidth,d=r.target.clientHeight,c>=d/u*l?c>=-d/u*l+d?"bottom":"left":c>=-d/u*l+d?"right":"top");if(e.draggedOverElement!==t.formElement||e.draggedOverPosition!==a){t.clearHoverIndicator(),e.draggedOverElement=t.formElement,e.draggedOverPosition=a,t._hoverItems=[],o.fillDraggedOverInDirection(t.formElement,a,t._hoverItems),t._currentHoverIndex=t._hoverItems.length-1;var s=function(){t._hoverItems[t._currentHoverIndex].dragPosition="",t._currentHoverIndex=(t._currentHoverIndex+1)%t._hoverItems.length,t._hoverItems[t._currentHoverIndex].dragPosition=a,t._hoverIndicatorTimer=setTimeout(s,1e3)};s()}r.preventDefault(),r.cancelBubble=!0}var l,c,u,d},e.prototype.dragleave=function(e,t){e.formElement.isDesignMode&&(e.clearHoverIndicator(),t.preventDefault(),t.cancelBubble=!0)},e.prototype.drop=function(t,r){if(t.formElement.isDesignMode){var n=(r.originalEvent||r).dataTransfer.getData("bf-item-json");if(n){e.draggedElement&&(e.draggedElement.parent.elements.remove(e.draggedElement),e.draggedElement=null);var o=t._hoverItems[t._currentHoverIndex];o.addElement(a.UimlPart.fromJSON(JSON.parse(n)),o.dragPosition,o)}t.clearHoverIndicator(),r.preventDefault(),r.cancelBubble=!0}},e.prototype.select=function(t,r){if(this.formElement.isDesignMode){e.selectedElement()&&e.selectedElement()._isSelected(!1),t._isSelected(!0),e.selectedElement(t);var n=r.originalEvent||r;return n.preventDefault(),n.cancelBubble=!0,!0}},Object.defineProperty(e.prototype,"isDesignMode",{get:function(){return this.formElement.isDesignMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"part",{get:function(){return this.formElement.content.part},enumerable:!1,configurable:!0}),e.draggedElement=null,e.draggedOverElement=null,e.draggedOverPosition=null,e.selectedElement=n.observable(),e}();t.LayoutItem=l,n.components.register("layout-item",{viewModel:{createViewModel:function(e,t){var r=e.element||i.UimlLayoutSerializer.createElement(a.UimlPart.fromJSON(e.uiml),null);if(e.context&&(r.context=e.context),!r.isContainer){var n=t.element.getElementsByClassName("bf-item-content-holder")[0];r.render(n)}return new l(r)}},template:s})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createDefaultToolboxItems=t.createToolboxItemsFor=t.defaultToolboxItems=void 0;var n=r(6);function o(e){return(Object.keys(e)||[]).filter((function(t){return"object"!=typeof e[t]})).map((function(e){return{title:n.makeTitle(e),hint:"Drag to add "+n.makeTitle(e),json:n.createPropertyEditor(e)}}))}t.defaultToolboxItems=[{title:"row",hint:"Drag to add row",json:{partclass:"layoutRow",cssClasses:"row",parts:[]}},{title:"column",hint:"Drag to add column",json:{partclass:"layoutColumn",cssClasses:"column",parts:[]}},{title:"panel",hint:"Drag to add panel",json:{partclass:"panel",cssClasses:"panel",parts:[]}},{title:"label",hint:"Drag to add label",json:{partclass:"label",cssClasses:"test-label",text:"Label text"}},{title:"input",hint:"Drag to add input element",json:{partclass:"input",cssClasses:"test-input",data:"valName"}},{title:"composite",hint:"Drag to add composite element",json:{partclass:"layoutItem",cssClasses:"item test-item test-group",parts:[{partclass:"label",cssClasses:"test-label",text:"Name"},{partclass:"input",cssClasses:"test-input",data:"name"}]}}],t.createToolboxItemsFor=o,t.createDefaultToolboxItems=function(e){return[].concat(t.defaultToolboxItems).concat(o(e))}},,function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),o=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),o(r(12),t),o(r(1),t),o(r(2),t),o(r(8),t),o(r(18),t),o(r(21),t),o(r(6),t),o(r(9),t),o(r(24),t)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FormBuilder=void 0;var n=r(0),o=r(4);r(14);var i=r(1),a=r(15),s=function(){function e(e,t){var r=this;void 0===t&&(t=[]),this._form=e,this.toolbox=n.observableArray(),this.root=o.UimlLayoutSerializer.createRoot(),this._modelSubscription=n.computed((function(){r.root.context=e.model})),this._layoutSubscription=n.computed((function(){var t=e.layout;Array.isArray(t)||(t=[t]),r.root.content.parts=t.map((function(e){return i.UimlPart.fromJSON(e)}))})),t.forEach((function(e){return r.toolbox.push(e)}))}return e.prototype.dragstart=function(e,t){return(t.originalEvent||t).dataTransfer.setData("bf-item-json",JSON.stringify(e.json)),!0},Object.defineProperty(e.prototype,"jsonText",{get:function(){return this.root.elements().length>0?JSON.stringify(o.UimlLayoutSerializer.serialize(this.root.elements()[0]),null,2):e.defaultText},set:function(t){this._form.layout=JSON.parse(t||e.defaultText)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isDesignMode",{get:function(){return this.root.isDesignMode},set:function(e){this.root.isDesignMode=e},enumerable:!1,configurable:!0}),e.prototype.toggleDesignMode=function(e){e.isDesignMode=!e.isDesignMode,this.jsonText=this.jsonText},e.prototype.dispose=function(){this._modelSubscription.dispose(),this._layoutSubscription.dispose()},e.defaultText='{"partclass": "layoutRow","cssClasses": "row","parts": []}',e}();t.FormBuilder=s,n.components.register("form-builder",{viewModel:{createViewModel:function(e,t){return new s(e.form,e.items)}},template:a})},function(e,t){},function(e,t){},function(e,t){e.exports='<div class="bf-layout">\r\n    <layout-item params="element: root" data-bind="css: { \'bf-layout--design-mode\': isDesignMode }"></layout-item>\r\n    \x3c!-- <div class="bf-mode-button fa" data-bind="click: toggleDesignMode, text: isDesignMode ? \'View\':\'\', css: { \'fa-cog\': !isDesignMode } "> --\x3e\r\n    <div class="bf-mode-button" data-bind="click: toggleDesignMode, text: isDesignMode ? \'View\':\'Design\' ">\r\n    </div>\r\n</div>\r\n<div class="bf-toolbox" data-bind="visible: isDesignMode, foreach: toolbox">\r\n    <div class="bf-toolbox__item" draggable="true"\r\n        data-bind="text: title, event: { dragstart: $parent.dragstart }, attr: { title: hint }">\r\n    </div>\r\n</div>\r\n<div class="bf-layout-json" data-bind="visible: isDesignMode">\r\n    <textarea data-bind="value: jsonText"></textarea>\r\n</div>\r\n<script type="text/html" id="bf-item-part">\r\n    <div data-bind="with: formElement.context || $data">\r\n    </div>\r\n<\/script>'},function(e,t){},function(e,t){e.exports='\x3c!-- ko if: isContainer --\x3e\r\n<div class="bf-item-content" data-bind="click: select, css: css">\r\n    \x3c!-- ko foreach: elements --\x3e\r\n    <layout-item params="element: $data" data-bind="style: {  }"></layout-item>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: elements().length === 0 --\x3e\r\n    <placeholder-item params="element: formElement"></placeholder-item>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko ifnot: isContainer --\x3e\r\n<div class="bf-item-content" draggable="true"\r\n    data-bind="event: { dragenter: dragenter, dragover: dragover, dragleave: dragleave, drop: drop, dragstart: dragstart }, click: select, css: css">\r\n    \x3c!-- ko ifnot: isDesignMode --\x3e\r\n    <div class="bf-item-content-holder" data-bind="with: formElement.context || $data">\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n    \x3c!-- ko if: isDesignMode --\x3e\r\n    <div class="bf-item-content-holder" data-bind="let: { $part: part }">\r\n        \x3c!-- ko template: { name: "bf-item-part", afterRender: afterPartTemplateRender } --\x3e\r\n        \x3c!-- /ko --\x3e\r\n    </div>\r\n    \x3c!-- /ko --\x3e\r\n</div>\r\n\x3c!-- /ko --\x3e\r\n\x3c!-- ko if: isSelected --\x3e\r\n<item-menu params="element: formElement"></item-menu>\r\n\x3c!-- /ko --\x3e'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlaceholderComponent=void 0;var n=r(0),o=r(2),i=r(8);r(19);var a=r(20);n.components.register("placeholder-item",{viewModel:{createViewModel:function(e,t){var r=t.element.getElementsByClassName("bf-item-placeholder")[0],n=new o.PlaceHolder(e.element);return n.render(r),new i.LayoutItem(n)}},template:a}),t.PlaceholderComponent=null},function(e,t){},function(e,t){e.exports='<div class="bf-item-placeholder" data-bind="event: { dragover: dragover, drop: drop }">\r\n</div>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ItemMenu=void 0;var n=r(0);r(22);var o=r(23),i=function(){function e(e){this.formElement=e,this.menuItems=n.observableArray(),this.menuItems.push({title:"- Remove",action:function(){return e.remove()},visible:n.computed((function(){return!!e.parent}))})}return Object.defineProperty(e.prototype,"content",{get:function(){return this.formElement.content},enumerable:!1,configurable:!0}),e}();t.ItemMenu=i,n.components.register("item-menu",{viewModel:{createViewModel:function(e,t){return new i(e.element)}},template:o})},function(e,t){},function(e,t){e.exports='<div class="bf-item-menu" data-bind="click: function() { return true; }, clickBubble: false">\r\n    <div>\r\n        \x3c!-- ko foreach: menuItems --\x3e\r\n        \x3c!-- ko component: { name: $data.component || \'ui-button\', params: { item: $data } } --\x3e\r\n        \x3c!-- /ko --\x3e\r\n        \x3c!-- /ko --\x3e\r\n        <object-editor params="context: content"></object-editor>\r\n    </div>\r\n</div>'},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Form=void 0;var n=r(0),o=r(6),i=r(9),a=function(){function e(t,r,i,a){var s=this;this.onModelChanged=i,this.onLayoutChanged=a,this._model=n.observable(o.modelFromJSON(t||{})),this._layout=n.observable(r||e.createDefaultLayout(this.model)),this._modelChangedObserver=n.computed((function(){return s.onModelChanged&&s.onModelChanged(s.object,o.modelToJSON(s.model))})),this._layoutChangedObserver=n.computed((function(){null===t&&s._model(o.modelFromJSON(o.modelFromLayout(s.layout))),s.onLayoutChanged&&s.onLayoutChanged(s.layout)}))}return Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout()},set:function(e){this._layout(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"model",{get:function(){return this._model()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"object",{get:function(){return n.toJS(this.model)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._modelChangedObserver.dispose(),this._layoutChangedObserver.dispose()},e.show=function(t,r,o,a,s){var l=new e(t,r,a,s),c=i.createDefaultToolboxItems(l.model);return n.applyBindings({form:l,items:c},"string"==typeof o?document.getElementById(o):o),l},e.createDefaultLayout=o.createDefaultLayout,e}();t.Form=a}])}));